<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Help Us Improve - {{ business.business_name }}</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap');

    * {
      font-family: 'Inter', sans-serif;
    }

    .glass-morphism {
      background: rgba(255, 255, 255, 0.08);
      backdrop-filter: blur(20px);
      border: 1px solid rgba(255, 255, 255, 0.2);
      box-shadow: 0 25px 45px rgba(0, 0, 0, 0.1);
    }

    .glass-card {
      background: linear-gradient(135deg, rgba(255, 255, 255, 0.12), rgba(255, 255, 255, 0.04));
      backdrop-filter: blur(25px);
      border: 1px solid rgba(255, 255, 255, 0.18);
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
    }

    .aurora-bg {
      background: linear-gradient(135deg, #1e1b4b 0%, #312e81 25%, #3730a3 50%, #1e40af 75%, #1e3a8a 100%);
    }
  </style>
</head>

<body class="min-h-screen aurora-bg text-white">
  <div class="min-h-screen flex items-center justify-center px-4 py-8">
    <div class="max-w-2xl w-full">

      <!-- Header -->
      <div class="text-center mb-8">
        <div class="w-20 h-20 bg-gradient-to-br from-blue-400 to-purple-500 rounded-2xl flex items-center justify-center mx-auto mb-6">
          <i class="fas fa-heart text-3xl text-white"></i>
        </div>
        <h1 class="text-4xl font-bold mb-4">Help Us Improve</h1>
        <h2 class="text-2xl text-blue-400 mb-2">{{ business.business_name }}</h2>
        <p class="text-white/80">We value your feedback and want to make things right</p>
      </div>

      <!-- Private Feedback Form -->
      <div class="glass-card rounded-3xl p-8">
        <div class="mb-6 p-4 bg-blue-500/20 rounded-xl border border-blue-400/30">
          <h3 class="text-lg font-semibold text-blue-300 mb-2">
            <i class="fas fa-lock mr-2"></i>This feedback is private
          </h3>
          <p class="text-white/80 text-sm">
            Your feedback will only be seen by our team to help us improve. We appreciate your honesty.
          </p>
        </div>

        <form action="{{ url_for('submit_private_feedback', business_id=business.id) }}" method="POST" class="space-y-8">
          <!-- Pre-filled data -->
          <input type="hidden" name="customer_name" value="{{ customer_name }}">
          <input type="hidden" name="customer_email" value="{{ customer_email }}">
          <input type="hidden" name="rating" value="{{ rating }}">
          <input type="hidden" name="review_text" value="{{ review_text }}">

          <!-- Show original review -->
          <div class="glass-morphism rounded-2xl p-6 border-l-4 border-blue-400">
            <div class="flex items-center mb-4">
              <i class="fas fa-quote-left text-blue-400 text-xl mr-3"></i>
              <h3 class="text-xl font-bold text-white">Your Original Review</h3>
            </div>
            <div class="space-y-3">
              <div class="flex items-center">
                <span class="text-white/70 font-medium mr-2">Rating:</span>
                <div class="flex space-x-1">
                  {% for i in range(1, 6) %}
                    <i class="fas fa-star {% if i <= rating|int %}text-yellow-400{% else %}text-gray-500{% endif %}"></i>
                  {% endfor %}
                </div>
              </div>
              <p class="text-white/90 bg-white/5 rounded-lg p-4 italic">"{{ review_text }}"</p>
            </div>
          </div>

          <!-- Additional feedback -->
          <div class="form-group">
            <label for="private_feedback" class="block text-white font-semibold mb-3 text-sm uppercase tracking-wide">
              <i class="fas fa-comment-dots mr-2 text-blue-400"></i>Additional Private Feedback (Optional)
            </label>
            <div class="relative">
              <textarea 
                name="private_feedback" 
                id="private_feedback"
                rows="5"
                class="w-full px-5 py-4 glass-morphism rounded-xl border-2 border-transparent focus:border-blue-400 focus:outline-none transition-all duration-300 text-white placeholder-white/50 resize-none text-lg bg-white/5 hover:bg-white/10 leading-relaxed"
                placeholder="Help us improve by sharing more specific feedback that we can use internally to better serve our customers..."></textarea>
              <div class="absolute inset-0 rounded-xl bg-gradient-to-r from-blue-400/20 to-purple-400/20 opacity-0 transition-opacity duration-300 pointer-events-none focus-within:opacity-100"></div>
            </div>
          </div>

          <div class="pt-4">
            <button 
              type="submit" 
              class="w-full py-5 bg-gradient-to-r from-blue-500 to-purple-500 rounded-xl font-bold text-xl text-white transition-all duration-300 transform hover:scale-105 hover:shadow-2xl hover:shadow-blue-500/30 relative overflow-hidden">
              <span class="relative z-10 flex items-center justify-center">
                <i class="fas fa-paper-plane mr-3"></i>
                Submit Private Feedback
              </span>
              <div class="absolute inset-0 bg-gradient-to-r from-blue-600 to-purple-600 opacity-0 hover:opacity-100 transition-opacity duration-300"></div>
            </button>
          </div>
        </form>
      </div>

      <!-- Footer -->
      <div class="text-center mt-8 text-white/60 text-sm">
        <p>
          <i class="fas fa-shield-alt mr-1"></i>
          Your feedback helps us serve you better. Thank you for taking the time to help us improve.
        </p>
      </div>
    </div>
  </div>
</body>
</html>